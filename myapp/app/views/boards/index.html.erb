<div class="all-boards-container">
  <h1 class="page-tittle">ALL BOARDS</h1>

  <% @boards.each do |board| %>
    <div class="board-card">

      <div class="board-header">
        <%# ユーザーのアバターがあれば表示。なければ小さいグレープレースホルダ（透過の丸）を表示 %>
        <% if board.user.respond_to?(:avatar) && board.user.avatar.attached? %>
          <%= image_tag board.user.avatar, class: "user-icon", alt: "user avatar" %>
        <% else %>
          <div class="user-icon placeholder" aria-hidden="true"></div>
        <% end %>

        <%# 名前やメールは表示しない（要望どおり） %>
      </div>

      <div class="board-content">
        <div class="board-tittle-wrapper">
          <h2 class="board-tittle"><%= board.tittle %></h2>

          <% if user_signed_in? && board.user == current_user %>
            <div class="board-detail-actions">
              <div class="dropdown">
                <%= image_tag 'Combined Shape.png', class: 'dropbtn' %>
                <div class="dropdown-content mini">
                  <%= link_to '編集する', edit_board_path(board) %>
                  <%= link_to '削除する', board_path(board), method: :delete, data: { confirm: '本当に削除してもよろしいですか？' } %>
                </div>
              </div>
            </div>
          <% end %>
        </div>
        <p class="board-description"><%= board.description %></p>
      </div>

    </div>
  <% end %>

  <!-- 新規作成カード -->
  <%= link_to new_board_path, class: "new-board-card" do %>
    + Add new board
  <% end %>
</div>
